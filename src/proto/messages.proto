syntax = "proto3";

option java_multiple_files = true;
option java_package = "com.cs739.messages";
option java_outer_classname = "MessagesProto";

package messages;

// endpoints for the NFS server
service NFS {
  rpc Mount  (MountRequest) returns (FileHandleReply) {}
  rpc Lookup (LookupRequest) returns (FileHandleReply) {}

	//TODO (arman): define input and output
  rpc Read   (LookupRequest) returns (FileHandleReply) {}
  rpc Write  (LookupRequest) returns (FileHandleReply) {}
  rpc Commit (LookupRequest) returns (FileHandleReply) {}
	rpc Mkdir  (LookupRequest) returns (FileHandleReply) {}
  rpc Rmdir  (LookupRequest) returns (FileHandleReply) {}
  rpc Create (LookupRequest) returns (FileHandleReply) {}
  rpc Remove (LookupRequest) returns (FileHandleReply) {}
}

message MountRequest {
	string rootDirectory = 1;
}


message LookupRequest {
  string directoryFileHandle = 1; //handle for directory to be looked in
	string fileName = 2; //name of file looking for
}

message FileHandleReply {
	string fileHandle = 1; //null if file does not exist
}

